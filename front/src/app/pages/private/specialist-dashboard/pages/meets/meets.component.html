<h2 class="title">{{title}}</h2>

<div class="days-container">
    <mat-chip-list aria-label="Dias de la semana">
        <mat-chip [selected]="d.selected" (click)="selectDay(d)" *ngFor="let d of daysOfWeek$ | async; let i = index">{{d.day}}</mat-chip>
    </mat-chip-list>
</div>

<mat-accordion class="example-headers-align" multi *ngIf="!fecthingMeetData; else fetching"> 
    <div *ngIf="meets.length; else emptyMeets">
        <mat-expansion-panel (opened)="loadSchedule()" *ngFor="let m of meets">
            <mat-expansion-panel-header>
                <mat-panel-title>{{m.block}}</mat-panel-title>
                <mat-panel-description>{{m.date}}</mat-panel-description>
            </mat-expansion-panel-header>

            <mat-divider></mat-divider>
            <div class="patient-info-container">
                <div class="left">
                    <p>Nombre: {{m.patient_fullname}}</p>
                    <p>Rut: {{m.patient_rut}}</p>
                    <p>Correo: {{m.patient_email}}</p>
                    <p>Teléfono: {{m.patient_cellphone}}</p>
                </div>
                <div class="right">
                    <p><a>Abrir Sala de Video Terapia</a></p>
                </div>
            </div>
        </mat-expansion-panel>
    </div>
    <ng-template #emptyMeets>
        <p class="empty-meets">Aún no hay citas para este día.</p>        
    </ng-template>
</mat-accordion>
<ng-template #fetching>
    <mat-progress-bar mode="query"></mat-progress-bar>
</ng-template>